---
layout:       article
title:        肉鸡处理方法
key:          2018-02-28
tags:         notes
categories:   notes
created_date: 2018-02-28 16:59:41
date:         2018-02-28 17:09:44
---

被通报为肉鸡处理方法

<!--more-->

### 肉鸡是什么

肉鸡通常是自身有弱口令和某些服务漏洞，被黑客扫描到并利用，然后植入了病毒/木马，这样黑客会获取到服务器的远程控制权限。黑客根据自己的需求，使用肉鸡时会远程控制肉鸡，并使用肉鸡的CPU，带宽等资源。

要处理此问题，就是让肉鸡摆脱黑客的控制。就处服务器运行的内鬼，切断其与黑客的通讯。

### 简单的处理方式：

1. 杀毒，杀木马。推荐：[QQ电脑管家](https://guanjia.qq.com/)、[火绒](https://www.huorong.cn/)。
2. 重做系统。

### 具体分析及处理

针对肉鸡实际的提供的服务，发现非正常行为并整改。

1. 针对服务器的操作系统类型，根据提供了哪些服务，这些服务使用了哪些端口。然后检查防火墙的端口设置，除提供服务所需的端口，全部禁用(黑名单)。
2. 检查系统账户，是否存在无用的，未知的账户，删除它们。并对远程登录端口做限制，在防火墙中设置白名单，仅允许安全范围内的ip可远程控制。防止被黑客利用。
3. 检查已安装程序，根据安装时间，分析无用的软件，删除。（当然，病毒，木马通常不会在此漏出马脚）。主要根据前2点设置。
4. 查看端口状态，window 系统在cmd下 执行
    -  `netstat -ano | findstr ESTABLISHED`       # 已建立的连接（端口）
    -  `netstat -ano | findstr LISTENING`            # 在监听的连接（端口）
      根据提供的服务，查找服务使用的端口之外的端口。非服务端口则可能是为黑客远程控制的端口。根据最后一列的`pid`值。执行：
      `tasklist | findstr 5856`       # 把`5856`替换为`pid`，既可查到占用该端口的进程名。然后进一步分析它是正常的服务还是病毒/木马。
5. 使用流量监测软件，分析网络数据中是否有异常的非业务浏览。
6. 更多操作，在此无法一一列举。均需结合实际情况具体分析。如肉鸡为linux系统。则上述命令需改为对应的shell命令。